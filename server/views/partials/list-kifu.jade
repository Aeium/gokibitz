.col-md-12
	h2 Kifu

	.form-group(
		style='max-width: 400px'
	)
		.input-group.input-group-hg.input-group-rounded(
			ng-class='{ focus: focused }'
		)
			span.input-group-btn
				button.btn(type='submit')
					span.fui-search
			input.form-control(
				type='text'
				placeholder='Search'
				ng-model='search'
				ng-init='focused = false'
				ng-focus='focused = true'
				ng-blur='focused = false'
				ng-keyup='searchKifu()'
			)

	.list-kifu.list-group
		.kifu.list-group-item(
			ng-repeat='item in kifu'
		)
			.media
				.pull-left
					sgf.media-object(
						src='item.game.sgf'
					)
				.media-body
					.pull-right(
						ng-hide='!currentUser || (item.owner !== currentUser._id)'
					)
						button.btn.btn-danger(
							gk-really-message='Are you sure you want to delete this kifu?'
							gk-really-click='deleteKifu(item)'
							gk-really-class='btn-danger'
							gk-really-verb='Delete'
						)
							.fui-trash
					h5.media-heading
						a(
							href='/kifu/{{ item.shortid }}'
						) {{ item.game.info.black }} vs. {{ item.game.info.white }} ({{ item.game.info.result }})
							= ' '
							.label.label-info(ng-if='item.comments.length > 0') {{ item.comments.length }}
								= ' '
								ng-pluralize(
									count='item.comments.length'
									when='{ "one": "Comment", "other": "Comments" }'
								)
					time(
						datetime='{{ item.game.info.date }}'
					) {{ item.game.info.date | date: 'longDate' }}

	p
		button.btn.btn-primary.btn-lg(
			ng-show='(kifu.length + index) < total'
			ng-click='moreKifu()'
		)
			span.fui-plus-inverted
			= ' '
			| More
